# 使用矩阵
第10章的几个算法使用二维数组，一般称为**矩阵**（matrix）。C++库不提供matrix类。不过，合理的matrix类可以很快写出来。基本想法是使用向量的向量来完成。这个工作需要操作符重载的附加知识。对于matrix类，我们为其定义operator[]，即数组下标运算符（array-indexing operator）。matrix类在1.26中给出。
```cpp
// 1.26 一个完整的matrix类
#ifndef MATRIX_H
#define MATRIX_H

#include <vector>
using namespace std;

template <typename Object> class matrix {
public:
  matrix(int rows, int cols) : array(rows) {
    for (auto &thisRow : array)
      thisRow.resize(cols);
  }

  matrix(vector<vector<Object>> v) : array{v} {}
  matrix(vector<vector<Object>> &&v) : array{std::move(v)} {}

  const vector<Object> &operator[](int row) const { return array[row]; }
  vector<Object> &operator[](int row) { return array[row]; }

  int numrows() const { return array.size(); }
  int numcols() const {
    return numrows() ? array[0].size() : 0;
  } // 避免访问array[0]可能导致的数组越界

private:
  vector<vector<Object>> array;
};
#endif
```
*2026/1/15 15:43*
## 1.7.1 数据成员，构造函数和基本访问函数